#!/bin/bash
mirror_file=/etc/setup/last-mirror

if [ -z $1 ]; then
  echo -n "Current mirror: "; cat $mirror_file
  exit
fi

function change_mirror()
{
  echo $1 > $mirror_file
  echo "Switched to mirror: $1"
}

case $1 in
  ports) change_mirror "ftp://ftp.cygwinports.org/pub/cygwinports" ;;
  main) change_mirror "http://linux.rz.ruhr-uni-bochum.de/download/cygwin" ;;
  *) echo 'unknown mirror'
esac
